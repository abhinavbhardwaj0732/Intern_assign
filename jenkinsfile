node {
def Imagename = "node"
def registrycredentials = "admin"
def registry ="http://localhost:8083/repository/my-docker-assign/"
def dockerImage =""
stage('clone to Github repo') {
     git branch: 'main' , url:'https://github.com/abhinavbhardwaj0732/Intern_assign.git'
    }
stage('Building Image'){
dockerImage = docker.build(Imagename)
}
 stage('Uploading to Nexus') {
withDockerRegistry(registryCredentials: registrycredentials, url: registry){
       
}

}
}
